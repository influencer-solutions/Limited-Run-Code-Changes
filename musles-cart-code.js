/**
 * Integration JavaScript for Limited Run stores.
 *
 * This store.js file must be included on Limited Run
 * generated pages to ensure proper integration.
 *
 * Last Modified: 2019-11-25 02:05:34 UTC
 *
 * Copyright 2020, Musles Media.
 */
(function(){var e,t,n,i={}.hasOwnProperty;window.Store={config:{},country:null,ipAddress:null,mobile:!1,initialize:function(t){var n,i,s,o,r,a,l;null==t&&(t={}),Store.config=void 0===t?{}:t,Store.mobile=navigator.userAgent.match(/iPhone|iPod|Android|Blackberry.*WebKit/i)?!0:!1,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}),window.console||(window.console={}),window.console.log||(window.console.log=function(){});try{for(n=!1,a={},l=document.location.search.replace(/^\?/,"").split("&"),s=0,o=l.length;o>s;s++)r=l[s],(r=r.split("="))&&(a[r[0]]=r[1]);"cardincluded"===a.utm_source&&"overlay"===a.utm_medium&&(n=!0),n||top.location===document.location||(console.log("Frame Detected..."),top.location=document.location)}catch(c){i=c,console.log(i)}return Store.getCartSummary(),window.setTimeout(function(){try{return clicky.init(66551744)}catch(e){return i=e,console.log(i)}},1),window.setTimeout(function(){var t;return(Store.ipAddress=e.read("ip-address"))&&(t=e.read("country:"+Store.ipAddress))&&"-"!==t?Store.country=t:Store.getCountry()},1)},getCartSummary:function(){return window.setTimeout(function(){var e,t;if("function"==typeof Store.config.cartCallback)try{return e=document.createElement("script"),e.src="https://heuristic-meninsky-5d117a.netlify.com/summary.json?callback=Store.config.cartCallback",document.body.appendChild(e)}catch(n){return t=n,console.log(t)}},1)},getCountry:function(){var e,t;return console.log("Requesting Country..."),t="9d19a735d445cacfce94f5503117c4a0af894029d509efc711d91d8775d200f8",e=document.createElement("script"),e.src="//api.ipinfodb.com/v3/ip-country/?key="+t+"&format=json&callback=Store.setCountry",document.body.appendChild(e)},setCountry:function(t){return"OK"===t.statusCode&&"-"!==t.countryCode?(console.log("  Found: "+t.countryCode),Store.country=t.countryCode,e.write("country:"+Store.ipAddress,Store.country)):void 0},overlay:{ui:null,document:null,options:{height:350,preferredWidth:420,width:420},initialize:function(){var e,t,i,s;return this.ui?void 0:(this.ui={},this.ui.mask=document.createElement("div"),this.ui.container=document.createElement("div"),this.ui.content=document.createElement("iframe"),this.ui.content.scrolling="no",n(this.ui.mask,{backgroundColor:"#000000",display:"none",height:"100%",left:"0",opacity:"0.5",position:"fixed",top:"0",width:"100%",zIndex:"5000"}),n(this.ui.container,{borderRadius:"5px",boxShadow:"0 0 18px rgba(0, 0, 0, 0.75)",boxSizing:"content-box",display:"none",height:Store.overlay.options.height+"px",overflow:"hidden",position:"absolute",width:Store.overlay.options.width+"px",zIndex:"5001"}),n(this.ui.content,{backgroundColor:"#ffffff",backgroundImage:"url(https://s6.limitedrun.com/assets/loading-large-f87a659cb247bde9433637db6659f47e12332ef667e4b83b08f10223bc69ee58.gif)",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"32px 32px",border:"0",borderRadius:"4px",boxSizing:"content-box",height:"100%",overflow:"hidden",width:"100%"}),document.body.appendChild(this.ui.mask),document.body.appendChild(this.ui.container),this.ui.container.appendChild(this.ui.content),s=this,e=window.addEventListener?"addEventListener":"attachEvent",t=window[e],i="attachEvent"===e?"onmessage":"message",t(i,function(e){var t,n;console.log("Message Received: ",e.data);try{if(n=JSON.parse(e.data),n.resize)return s.options.height=n.resize.height,s.options.width=n.resize.width,s.center()}catch(i){return t=i,console.log("Error Parsing Message")}},!1),window.onresize=function(){var e;try{if(!Store.mobile||null===s.document||s.document.activeElement()&&"input"!==s.document.activeElement().tagName.toLowerCase())return Store.overlay.center()}catch(t){return e=t,Store.overlay.center()}},Store.mobile||(window.onscroll=function(){return Store.overlay.center()}),this.center())},center:function(){var e,t,i,s,o,r;return Store.overlay.options.preferredWidth=Store.overlay.options.width,Store.mobile&&(Store.overlay.options.width=300),n(this.ui.container,{height:Store.overlay.options.height+"px",width:Store.overlay.options.width+"px"}),window.innerWidth?(r=window.innerWidth,e=window.innerHeight,i=window.pageXOffset,s=window.pageYOffset):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(r=document.documentElement.clientWidth,e=document.documentElement.clientHeight,i=0,s=document.documentElement.scrollTop):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(r=document.body.clientWidth,e=document.body.clientHeight,i=0,s=document.body.scrollTop),Store.mobile?this.ui.container.style.left=Math.round((r-300)/2)+i+"px":Store.overlay.options.width>r?300>r-20?(n(this.ui.container,{width:"300px"}),this.ui.container.style.left=Math.round((r-300)/2)+i+"px"):(n(this.ui.container,{width:r-20+"px"}),this.ui.container.style.left=Math.round((r-(r-20))/2)+i+"px"):this.ui.container.style.left=Math.round((r-Store.overlay.options.width)/2)+i+"px",null!==this.document&&(o=this,window.setTimeout(function(){return Store.overlay.options.height=o.document.height(),n(o.ui.container,{height:Store.overlay.options.height+"px"})},100)),Store.overlay.options.height>e?void 0:(t=Math.round((e-Store.overlay.options.height)/5)+s,5>t&&(t=10),this.ui.container.style.top=t+"px")},show:function(e){return this.initialize(),n(this.ui.mask,{display:"block"}),n(this.ui.container,{display:"block"}),this.ui.content.src=e},hide:function(){return this.ui?(Store.getCartSummary(),n(this.ui.mask,{display:"none"}),n(this.ui.container,{display:"none"}),this.ui.content.src=""):!1}},cart:{add:function(e){return this.show("https://heuristic-meninsky-5d117a.netlify.com/add?cart[variation_id]="+e+(Store.country?"&country="+Store.country:""))},show:function(e){return e||(e="https://heuristic-meninsky-5d117a.netlify.com/"+(Store.country?"?country="+Store.country:"")),Store.overlay.show(e)}},download:{show:function(e,t){return Store.overlay.show("/download/"+e+"/"+t)}},newsletter:{show:function(e){var t;null==e&&(e={}),e.group||(e.group=""),e.note||(e.note="");try{return e.note.length>144?!1:Store.overlay.show("/newsletter/subscription?group="+e.group+"&note="+encodeURIComponent(e.note))}catch(n){t=n}}},requestNotification:function(e,t){var n;try{switch(e.toLowerCase()){case"event":Store.overlay.show("https://heuristic-meninsky-5d117a.netlify.com/notification/setup?event_id="+t);break;case"product":Store.overlay.show("https://heuristic-meninsky-5d117a.netlify.com/notification/setup?product_id="+t)}}catch(i){n=i}return!1}},e={all:function(){var e,t,n,i,s;if(t=new Array,""!==document.cookie)for(s=document.cookie.split("; "),n=0,i=s.length;i>n;n++)e=s[n],t.push({key:e.split("=")[0],value:e.split("=")[1]});return t},read:function(e){var t,n,i,s;for(n=document.cookie.split("; "),i=0,s=n.length;s>i;i++)if(t=n[i],e===t.split("=")[0])return decodeURIComponent(t.split("=")[1]);return null},write:function(e,t,n){var i;return null==t&&(t=null),null==n&&(n=14),null!==t?(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie=e+"="+encodeURIComponent(t)+"; expires="+i.toGMTString()):void 0},erase:function(e){return this.write(e,"",-1)}},n=function(e,t){var n,s,o;for(s in t)if(i.call(t,s)){o=t[s];try{e.style[s]=o}catch(r){n=r,console.log(s+":"+o+' failed to be set with error: "'+n+'"')}}return!0},Store.initialize("undefined"==typeof StoreConfig?{}:StoreConfig),/**
   * Integration JavaScript for Swell.
   *
   * Copyright 2019, Cloud Warmer, Inc.
   */
window._swell={enable:!0,hellos:0,hello:function(){var e,t;if(""!==_swell.sites())try{return t=10,_swell.enabled()&&(t=60,(new Image).src="//heyswell.com/v1/hello.gif?"+_swell.params(),_swell.log("Sending hello #"+_swell.hellos)),window.setTimeout(_swell.hello,1e3*t),_swell.log("Waiting for "+t+" seconds")}catch(n){return e=n,console.log(e)}},params:function(){var e;return e="sites="+_swell.sites(),e+="&count="+_swell.count(),e+="&javascript=1",e+="&referrer="+_swell.referrer(),e+="&timestamp="+_swell.timestamp(),e+="&url="+_swell.url()},sites:function(){return"undefined"!=typeof t?t.join(","):"undefined"!=typeof _swell_site_id?_swell_site_id:""},count:function(){return++_swell.hellos},referrer:function(){var e,t;t="";try{t=top.document.referrer}catch(n){e=n;try{t=parent.document.referrer}catch(n){e=n,t=""}}return""===t&&(t=document.referrer),_swell.escape(t)},timestamp:function(){return(new Date).getTime()},url:function(){return _swell.escape(document.location.href)},debug:function(){return"undefined"!=typeof _swell_debug&&_swell_debug},enabled:function(){return"undefined"!=typeof _swell_passive&&_swell_passive?!0:_swell.enable},escape:function(e){return"function"==typeof encodeURIComponent?encodeURIComponent(e):escape(e)},log:function(e){return _swell.debug()?console.log((new Date).getTime()+" "+e):void 0}},t=t||[],t.push(""),_swell.hello(),window.onblur=function(){return _swell.enable=!1,_swell.log("Sending hellos disabled")},window.onfocus=function(){return _swell.enable=!0,_swell.log("Sending hellos enabled")}}).call(this);
